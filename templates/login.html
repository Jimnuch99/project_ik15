{% extends "layout.html" %}

{% block title %}
    Log In
{% endblock %}

{% block main %}



    <head>
<style>
#frame {
  border: 5px solid black;
  padding: 15px;
  background: #ffffff;
  background-clip: border-box;
}
.transbox {
      margin: 30px;
      background-color: #ffffff;
      border: 1px solid black;
      opacity: 0.7;
      filter: alpha(opacity=60);
    }
body {
  background-color: #37649b;
}

.nav {
    display: none;

}

</style>
</head>
<body>
<div id="frame">
  <p>        <center>

            <!--login form-->
            <form action="/login" method="post" class=>
                <div class="form-group">
                    <input autocomplete="off" autofocus class="form-control" id="username" name="username" placeholder="Username" type="text" required>
                    <div class="invalid-feedback" id="usercheck">
                        Please provide your username
                    </div>
                </div>
                <div class="form-group">
                    <input class="form-control" id="password" name="password" placeholder="Password" type="password" required>
                    <div class="invalid-feedback" id="passcheck">
                        Please provide your password
                    </div>
                </div>

                <p>
                <button class="btn btn-primary" onclick="main()" type="submit">Log In</button>
                </p>
            </form>

            <!--redirect to register-->
            <p>No account? Register now!</p>
            <button class="btn btn-primary" onclick="window.location.href = '/register';">Register</button>

        </center></p>
</div>
<p>
    <font color="white">
    <center>
        <h1>
            What is StudySpot?
            <h4>
                StudySpot is the one and only workplace-finding site, especially for students. Nowadays, finding a peaceful, relaxing area without too much
                noise isn't easy. Therefore you and other students can make the decision yourself. Upload your own found studyplace and share it with others!
                Not really feeling it today? Just discover studyplaces other students uploaded!
                <p>
                More information? click <a href="/about"><U>here</U>.</a>
                </p>
            </h4>
        </h1>

    </center>
    </font>
</p>
</body>

    <script>
        // Check if username is in the database
        let username = document.getElementById('username');
        username.onkeyup = function() {
            $.get('/check?username='+ username.value, function(check) {
                // if username doesnt exist in the database
                if (check || username.value == "") {
                    document.getElementById("usercheck").innerHTML = "Please provide your username";
                    username.setAttribute("class", "form-control is-invalid");
                }
                // if username is exists in the database
                else {
                    document.getElementById("usercheck").innerHTML = "Username is incorrect";
                    username.setAttribute("class", "form-control");
                }
            });
        }
    </script>
{% endblock %}